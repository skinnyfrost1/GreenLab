
<!--header value 786013  exceeds configured buffer size limit 65536-->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="googlebot" content="noindex">
    <meta http-equiv="content-type" content="text/html;charset=utf-8">


    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


    <link rel="icon" href="https://ml4141715.github.io/water/cdn/image/leaf.png">
    <script src="https://ml4141715.github.io/water/cdn/api/jquery-1.12.4.js"></script>
    <script src='https://ml4141715.github.io/water/cdn/api/a076d05399.js'></script>
    <script src="https://ml4141715.github.io/water/cdn/api/jquery-ui.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/jquery-3.3.1.min.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/popper.min.js"></script>
    <!--    <script src="https://ml4141715.github.io/water/cdn/api/bootstrap.min.js"></script>-->
    <script src="https://ml4141715.github.io/water/cdn/api/jquery.cookie.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/sockjs.min.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/stomp.min.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/Sortable.js"></script>

    <link rel="stylesheet" href="https://ml4141715.github.io/water/cdn/api/largeSwitchButton.css">

    <script src="https://ml4141715.github.io/water/cdn/api/react.development.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/react-dom.development.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/babel.min.js"></script>
    <script src="https://ml4141715.github.io/water/cdn/api/dropzone.js"></script>



<!--    &lt;!&ndash;    TheWindow&ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/Window.js"></script>-->
<!--    &lt;!&ndash;    websocket connection&ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/Websocket.js"></script>-->
<!--    &lt;!&ndash;    EquipmentOperationSection&ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/EquipmentOperationSection.js"></script>-->
<!--    &lt;!&ndash;    EquipmentNav&ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/EquipmentNav.js"></script>-->
<!--    &lt;!&ndash;  folderMin  &ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/FolderMin.js"></script>-->
<!--    &lt;!&ndash;  folderContent  &ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/FolderContent.js"></script>-->
<!--    &lt;!&ndash; main &ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/Main.js"></script>-->
<!--    &lt;!&ndash;  Protocal  &ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/Protocal.js"></script>-->
<!--    &lt;!&ndash;  all the data  &ndash;&gt;-->
<!--    <script src="https://ml4141715.github.io/water/cdn/myjs/Data.js"></script>-->


    <!--    TheWindow-->
    <script >
        //src="/equipmentJS/Window.js"


        class Box{
            constructor( elementId ){
                this.elementId = elementId;
                this.width = 0;
                this.height = 0;
            }
            setWidth( width ){
                this.width = width;
                document.getElementById(this.elementId).style.width = this.width+"px";
            }
            setHeight( height ){
                this.height = height;
                document.getElementById(this.elementId).style.height = this.height+"px";
            }
            setLeft( left ){
                document.getElementById(this.elementId).style.left = left+"px";
            }
            setRight( right ){
                document.getElementById(this.elementId).style.right=right+"px";
            }
            getWidth(){
                return this.width;
            }
            getHeight(){
                return this.height;
            }
        }
        class TheWindow{
            constructor(){
                this.navbarHeight = 81;
                this.operationListWidth = 50;
                this.equipmentListWidth = 200;
                this.equipmentOperationSectionWidth = 380;
                this.operationList = new Box( "operationList" );
                this.operationList.setWidth( this.operationListWidth );
                this.equipmentList = new Box( "equipmentList" );
                this.equipmentList.setWidth(this.equipmentListWidth);
                this.equipmentList.setLeft(this.operationListWidth);
                this.equipmentPanel = new Box( "equipmentPanel" );
                this.equipmentPanel.setLeft(this.operationListWidth+ this.equipmentListWidth );
                this.equipmentOperationSection = new Box( "equipmentOperationSection" );
                this.equipmentOperationSection.setWidth(this.equipmentOperationSectionWidth);
                this.equipmentOperationSection.setRight( 0 );
                this.update();
                //operationList
                //equipmentList
                //equipmentPanel
                //equipmentOperationSection
            }
            collectBox(){
                return [
                    this.operationList,
                    this.equipmentList,
                    this.equipmentPanel,
                    this.equipmentOperationSection
                ];
            }
            update(){
                this.setAllHeight();
                this.setEquipmentPanelWidth();
            }
            setAllHeight(){
                for( var i = 0 ;  i< this.collectBox().length ; i++ ){
                    this.collectBox()[i].setHeight( this.getRestHeight() );
                }
                // here we set svg board
                //document.getElementById("SVGBoard").style.height = (this.getRestHeight()-10)+"px";
            }
            setEquipmentPanelWidth(){
                this.equipmentPanel.setWidth( this.getRestWidth() );
                //document.getElementById("SVGBoard").style.width = (this.getRestWidth()-10)+"px";
            }
            getWindowWidth(){
                return window.innerWidth;
            }
            getWindowHeight(){
                return window.innerHeight;
            }
            getRestHeight(){
                return this.getWindowHeight()-this.navbarHeight;
            }
            getRestWidth(){
                return this.getWindowWidth()-(this.operationListWidth+ this.equipmentListWidth+this.equipmentOperationSectionWidth);
            }



            // one function to set model
            // so we will first set

        }

        //------------------- how to use this ---------------------

        //theWindow = new TheWindow();



    </script>
    <!--    websocket connection-->
    <script >
        //src="/equipmentJS/Websocket.js"

        class Websocket{

            constructor(){

                this.userId = null;      // need set from outside
                this.itemId = null; // need set from outside

                this.websocketId = null; // ok

                this.receiveMessage = null;  // need set from outside
                this.socket = null;
                this.stompClient = null;

                this.sendMessage = null;

                this.subscribeType = null

                this.connectBroken = null; // this is function handle connection broken
                //this.websocket = new Websocket();
                this.self = null;

                this.loadBoolean = false;
            }


            setWebsocketId( ){
                var websocket = this.self;
                var url = websocket.stompClient.ws._transport.url;
                var urlArr = url.split("/");
                var webSessionId =  urlArr[urlArr.length-2 ];
                websocket.websocketId = webSessionId;
            }


            __subscribeUnique(){

                // this is combination of userid and websocketid

                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/image/"
                    +websocket.userId
                    +"/"
                    +websocket.websocketId , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeEquipmentFolder(){

                // this is userId only

                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/equipment/folder/"
                    +websocket.userId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeEquipmentPad(){  // the item here is equipment id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/equipment/pad/"
                    +websocket.itemId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeEquipmentBoard(){  // the item here is equipment id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/equipment/board/"
                    +websocket.itemId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeEquipFind(){  // the item here is lab id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/equipment/find"
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeLabFolder(){

                // this is userId only

                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/lab/folder/"
                    +websocket.userId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeLabPad(){  // the item here is lab id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/lab/pad/"
                    +websocket.itemId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeLabBoard(){  // the item here is lab id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/lab/board/"
                    +websocket.itemId
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            __subscribeLabFind(){  // the item here is lab id

                // this is equipmentId only
                // once it broadcast
                // other user who work on this equipment can do operation on it
                var websocket = this.self;
                websocket.stompClient.subscribe(
                    "/topic/lab/find"
                    , function (message) {
                        websocket.receiveMessage(message.body);
                    }
                );
            }

            subscribeCreateEquipment(){

                var websocket = this.self;
                websocket.__subscribeEquipmentFolder();
                websocket.__subscribeEquipmentPad();
                websocket.__subscribeUnique();

            }

            subscribeShareEquipment(){

                var websocket = this.self;
                websocket.__subscribeEquipmentFolder();
                websocket.__subscribeUnique();

            }

            subscribeFindEquipment(){

                var websocket = this.self;
                websocket.__subscribeEquipFind();
                websocket.__subscribeUnique();
                websocket.__subscribeEquipmentFolder();

            }

            subscribeBoardEquipment(){
                var websocket = this.self;
                websocket.__subscribeEquipmentBoard();
                websocket.__subscribeUnique();
            }


            //_______________________________________
            subscribeMyLab(){
                var websocket = this.self;
                websocket.__subscribeLabFolder();
                websocket.__subscribeUnique();
            }

            subscribeCreateLab(){
                var websocket = this.self;
                websocket.__subscribeLabFolder();
                websocket.__subscribeLabPad();
                websocket.__subscribeUnique();
            }

            subscribeFindLab(){
                var websocket = this.self;
                websocket.__subscribeLabFind();
                websocket.__subscribeUnique();
                websocket.__subscribeLabFolder();
            }

            subscribeBoardLab(){
                var websocket = this.self;
                websocket.__subscribeLabBoard();
                websocket.__subscribeUnique();
            }
            //_______________________________________

            __sendEquipmentFrontMessage( message ){
                var websocket = this.self;
                websocket.stompClient.send( "/app/equipment/front/"+websocket.userId+"/"+websocket.websocketId , {}, message);
            }

            __sendEquipmentBackMessage( message ){
                var websocket = this.self;
                websocket.stompClient.send( "/app/equipment/back/"+websocket.userId+"/"+websocket.websocketId , {}, message);
            }

            __sendLabFrontMessage( message ){
                var websocket = this.self;
                websocket.stompClient.send( "/app/lab/front/"+websocket.userId+"/"+websocket.websocketId , {}, message);
            }

            __sendLabBackMessage( message ){
                var websocket = this.self;
                websocket.stompClient.send( "/app/lab/back/"+websocket.userId+"/"+websocket.websocketId , {}, message);
            }

            // sendMessage( message ){
            //
            //     var websocket = this.self;
            //     websocket.sendMessage( message );
            //
            // }

            connect(  ){
                //var websocket = new Websocket();
                //websocket.
                var websocket = this.self;
                websocket.socket = new SockJS('/landon-stomp-chat');
                websocket.stompClient = Stomp.over(websocket.socket);
                websocket.stompClient.debug = null;
                websocket.stompClient.connect({}, function (frame) {
                    websocket.setWebsocketId();
                    websocket.subscribeType();
                    var sendData = {"type":"connectSuccess"}
                    websocket.sendMessage(JSON.stringify(sendData));
                }, function (message) {
                    websocket.connectBroken();
                } );

            }


        }

        function quickPrepare( type, data ) {
            var sendData = {};
            sendData["type"] = type;
            if( itemId != null ){
                sendData["itemId"] = itemId;
            }
            if(data!=null){
                sendData["data"] = data;
            }
            return  JSON.stringify(sendData);
        }

        //var BooleanVar = false;
        //_______________________ the code below teach you how to use the api ______________
        //when you send information don't forget include itemId inside the message
        //

        // websocket = new Websocket();
        // websocket.userId = "666";
        // websocket.itemId=  "777";
        // websocket.receiveMessage = function (message){
        //     console.log(message);
        // } ;
        // websocket.connectBroken = function ( ){
        //
        //     console.log("connection broken");
        //
        // };
        // websocket.self = websocket;
        // websocket.subscribeType = websocket.subscribeCreateEquipment; // you need set the subscribe type
        // websocket.sendMessage = websocket.__sendEquipmentFrontMessage;
        // websocket.connect();

        // @MessageMapping("/equipment/front/{userId}/{sessionId}")
        // public void handleEquipmentFront( @DestinationVariable String userId ,  @DestinationVariable String sessionId , String message) throws JSONException {
        //
        //
        //     System.out.println( message+"__"+ userId +"__"+ sessionId);
        //
        //
        // }

        // @Configuration
        // @EnableWebSocketMessageBroker
        // public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {
        //
        //     @Override
        //     public void registerStompEndpoints(StompEndpointRegistry registry) {
        //     registry.addEndpoint("/landon-stomp-chat").withSockJS();
        // }
        //
        // @Override
        // public void configureMessageBroker(MessageBrokerRegistry config) {
        //     config.enableSimpleBroker("/topic","/user", "/queue");
        //     //config.enableSimpleBroker("/user/queue/specific-user");
        //     config.setApplicationDestinationPrefixes("/app");
        //     config.setUserDestinationPrefix("/user/");
        //     //config.enableSimpleBroker("/queue");
        //     //config.enableSimpleBroker("/queue","/topic");
        // }
        //
        // }


        class Ajax{

            constructor(){

                this.sendAddress = null;
                this.handle = null;
                this.self = null;
            }

            sendAjax( message ){
                var ajax = this.self;
                $.post(
                    ajax.sendAddress,
                    {"data": message },
                    function(response){
                        if(response.success){
                            ajax.handle( response.data );
                        }
                    },
                    "json"
                );
            }
        }
        // @RequestMapping(value="/ajax/ImageData" , method = RequestMethod.POST)
        // @ResponseBody
        // public Object UploadImage(@Valid @RequestBody String reqBody, HttpServletRequest request) throws JSONException {
        //
        //     // String dataStr = request.getParameter("data");
        //
        //     System.out.println( reqBody );
        //
        //     Map<String,Object> sendData = new HashMap<>();
        //     sendData.put("success",true);
        //     sendData.put("data", "weixin.tang@stonybrook.edu" );
        //     return sendData;
        // }


        // $.ajax({
        //     type: "POST",
        //     contentType: "application/json",
        //     url: "/ajax/ImageData",
        //     data: JSON.stringify(sendData),
        //     dataType: 'json',
        //     cache: false,
        //     timeout: 600000,
        //     success: function (data) {
        //
        //         console.log(data);
        //
        //     },
        //     error: function (e) {
        //
        //
        //
        //     }
        // });

        //ajax/requestId
        //_______________________    ajax use tutorial      ____________________


        // var ajax = new Ajax();
        // ajax.sendAddress ="ajax/requestId";
        // ajax.handle = function ( message ) {
        //     console.log( message );
        // }
        // ajax.self = ajax;
        // ajax.sendAjax("666");



        // @RequestMapping(value="/ajax/requestId" , method = RequestMethod.POST)
        // @ResponseBody
        // public Object SignupSumbit(HttpServletRequest request) throws JSONException {
        //
        //     String dataStr = request.getParameter("data");
        //
        //     System.out.println( dataStr );
        //
        //     Map<String,Object> sendData = new HashMap<>();
        //     sendData.put("success",true);
        //     sendData.put("data", "weixin.tang@stonybrook.edu" );
        //     return sendData;
        // }




    </script>
    <!--    EquipmentOperationSection-->
    <script >
        //src="/equipmentJS/EquipmentOperationSection.js"




        class EquipmentOperationSection{
            constructor(){
                this.imageId = "operationImageSection";
                this.editId = "operationEditSection";
                this.areaId = "operationAreaSection";
                this.addId = "operationAddSection";
                // this.self = null;
            }
            setActive( Id ){
                document.getElementById(Id).className="nav-link text-muted active";
                //console.log( Id.slice(9) );
                // we also need active the body content
                document.getElementById(Id.slice(9)).className = "card-body";
            }
            setInactive( Id ){
                document.getElementById(Id).className="nav-link text-muted";
                //console.log( Id.slice(9) );
                document.getElementById(Id.slice(9)).className = "card-body d-none";
            }
            getIds(){
                return [this.imageId, this.editId, this.areaId,  this.addId ];
            }
            clearActive(){
                for( var i = 0 ; i< this.getIds().length ; i++ ){
                    this.setInactive(  this.getIds()[i] );
                }
            }
            setIndexActive( index ){
                this.clearActive();
                this.setActive( this.getIds()[index] );
            }
            // ativeAllButton(){
            //
            //     document.getElementById(this.imageId).onclick =
            //
            // }
            getActiveFunctions(){
                return [ this.activeImage ,this.activeEdit , this.activeArea, this.activeAdd ]
            }
            activeImage(){
                this.clearActive();
                this.setActive( this.imageId );
            }
            activeAdd(){
                this.clearActive();
                this.setActive( this.addId );
            }
            activeArea(){
                this.clearActive();
                this.setActive( this.areaId );
            }
            activeEdit(){
                this.clearActive();
                this.setActive( this.editId );
            }
            activeAllButton( self ){
                //self = new EquipmentOperationSection();
                document.getElementById( self.imageId ).onclick = function () {
                    self.activeImage();
                };
                document.getElementById( self.editId ).onclick = function () {
                    self.activeEdit();
                };
                document.getElementById(self.areaId).onclick = function () {
                    self.activeArea();
                };
                document.getElementById(self.addId).onclick = function () {
                    self.activeAdd();
                };
            }
        }



        class ImageOp{
            constructor(){
                this.equipmentNameInputId = "equipmentNameInput";
                this.equipmentDescriptionId = "equipmentDescription";
                this.coverImageId = "coverImageId";
                this.coverImageUploadId = "myfile";
                this.self = null;


            }
            getNameValue(){
                return document.getElementById(this.equipmentNameInputId).value;
            }
            setNameValue( value ){
                document.getElementById(this.equipmentNameInputId).value = value;
            }
            getTextArea(){
                return document.getElementById(this.equipmentDescriptionId).value;
            }
            setTextArea( value ){
                document.getElementById( this.equipmentDescriptionId ).value = value;
            }

            setCoverImage( value ){

                //<img src='' class='grid-photo-center' style='background-color: aquamarine' alt=''>
                // <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
                // AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
                // 9TXL0Y4OHwAAAABJRU5ErkJggg==" alt="Red dot" />

                document.getElementById( this.coverImageId ).innerHTML = "<img src='"+value+"' class='grid-photo-center' style='background-color: aquamarine' alt=''>";

            }

            handleNameInput( name ){

                sendProtocal["updateNameBoth"](name);


            }

            handleTextAreaInput( description ){

                sendProtocal["updateDescriptionBoth"](description);

            }

            handleImageInput( ImageData ){

                sendProtocal["uploadCoverImageBoth"](ImageData);

            }

            activeAll(){
                var imageOp = this.self;
                document.getElementById(imageOp.equipmentNameInputId).oninput = function () {

                    imageOp.handleNameInput( imageOp.getNameValue() );
                };

                document.getElementById(imageOp.equipmentDescriptionId).oninput = function () {
                    imageOp.handleTextAreaInput( imageOp.getTextArea() );
                };

                document.getElementById(imageOp.coverImageUploadId).oninput = async function (evt) {
                    var file = evt.target.files[0];
                    var ImageData = (await toBase64(file));
                    imageOp.handleImageInput( ImageData );
                }
            }


        }



        class EditOp{
            constructor(){
                this.equipmentSize = "equipmentSize";
                this.equipmentAngle = "equipmentAngle";
                this.equipmentX = "equipmentX";
                this.equipmentY = "equipmentY";


                this.statusName = "statusName";
                this.statusImageUploadId = "myEquipmentStatusFile";
                this.imagesDropdown = "imagestatusDropDown";

                this.imageDataDelete = "imageDataDelete";
                this.receiveText = "receiveText";
                this.sendText = "sendText";

                this.self = null;

            }

            // so we need so many operation here


            setDropDown( imageDataIds, imageDataNames ){

                var len = imageDataIds.length;
                var total = "";
                for( var i = 0 ; i< len ; i++ ){
                    var imageDataId = imageDataIds[i];
                    var imageDataName = imageDataNames[i];

                    total = total + this.getDropDownItem( imageDataId , imageDataName );
                }
                this.setDropDownHTML( total );
                this.activeImageDataButtons( imageDataIds );

            }

            getDropDownItem( imageDataId , imageDataName ){
                return "<div class='dropdown-item text-truncate' id='"+imageDataId+"' >"+imageDataName+"</div>";
            }

            setDropDownHTML( htmlContent ){
                document.getElementById(this.imagesDropdown).innerHTML = htmlContent;
            }

            activeImageDataButtons( imageDataIds ){

                for( var i = 0 ; i< imageDataIds.length ; i++ ){

                    var imageDataId = imageDataIds[i];
                    document.getElementById( imageDataId ).onclick = function (evt) {

                        //var imageDataId = evt.id;

                        //var makelocal = imageDataId;

                        // console.log(evt);

                        var makelocal = evt.path[0].id;

                        // console.log(imageDataId);

                        //console.log(makelocal);
                        // yes it's sendprotocal
                        sendProtocal["selectImageData"]( makelocal );



                    }

                }

            }

            //handleSelectImageData()


            getStatusName(){
                return document.getElementById(this.statusName).value;
            }
            setStatusName( value ){
                document.getElementById(this.statusName).value = value;
            }
            getSizeValue(){
                return document.getElementById(this.equipmentSize).value;
            }
            setSizeValue( value ){
                document.getElementById(this.equipmentSize).value = value;
            }
            getAngleValue(){
                return document.getElementById(this.equipmentAngle).value;
            }
            setAngleValue( value ){
                document.getElementById(this.equipmentAngle).value = value;
            }
            // here we need set x position and set y position
            getXposition(){
                return document.getElementById(this.equipmentX).value;
            }
            setXposition( value ){
                document.getElementById(this.equipmentX).value = value;
            }
            getYPosition(){
                return document.getElementById(this.equipmentY).value;
            }
            setYPosition( value ){
                document.getElementById(this.equipmentY).value  =value;
            }

            getReceiveText(){
                return document.getElementById(this.receiveText).value;
            }

            setReceiveText( value ){
                document.getElementById(this.receiveText).value = value;
            }

            getSendText(){
                return document.getElementById( this.sendText ).value;
            }

            setSendtext( value ){
                document.getElementById( this.sendText ).value = value;
            }

            handleStatusName( name ){

                // if( equipmentData.currentEquipmentData.currentImageIds != "" ){
                //
                //     console.log( equipmentData.currentEquipmentData.currentImageIds );
                //
                // }

                //console.log( equipmentData.currentEquipmentData.currentImageIds );

                var makeLocal = equipmentData.currentEquipmentData.currentImageIds;

                if( makeLocal != "" ){

                    sendProtocal["updateStatusNameImage"]( makeLocal   , name  );

                }

                //sendProtocal["updateStatusNameImage"] = function ( imageDataId , sizeAngle ) {

            }

            handleEquipmentSize( size ){

                if( equipmentData.currentEquipmentData.currentImageIds != "" ){
                    sendProtocal["updateSizeImage"]( equipmentData.currentEquipmentData.currentImageIds , size  );
                }

                //sendProtocal["updateSizeImage"] = function ( imageDataId , sizeValue ) {

            }

            handleEquipmentAngle( angle ){

                if( equipmentData.currentEquipmentData.currentImageIds != "" ){

                    sendProtocal["updateAngleImage"]( equipmentData.currentEquipmentData.currentImageIds , angle );

                }
                //sendProtocal["updateAngleImage"] = function ( imageDataId , sizeAngle ) {

            }

            handleEquipmentXposition( xValue ){
                // so here we need check if it's

                if( equipmentData.currentEquipmentData.currentImageIds != "" ){

                    sendProtocal["updateXposImage"]( equipmentData.currentEquipmentData.currentImageIds , xValue );

                }
                // sendProtocal["updateXposImage"] = function ( imageDataId , Xpos ) {

            }

            handleEquipmentYPosition( yvalue ){

                if( equipmentData.currentImageDataId != "" ){

                    sendProtocal["updateYposImage"]( equipmentData.currentImageDataId , yvalue );

                }
                //sendProtocal["updateYposImage"] = function ( imageDataId , Ypos ) {

            }

            handleStatusImageUpload( imageData ){



                var img = new Image();
                img.onload = function() {

                    sendProtocal["uploadStatusImageImage"]( img.src , this.width ,this.height  );

                };
                img.src = imageData;


            }

            handleImageDataDelete(){

                var makeLocal = equipmentData.currentEquipmentData.currentImageIds;

                sendProtocal["ImageDataDelete"]( makeLocal );
            }

            handleSetReceiveText( ReceiveText ){

                var makeLocal = equipmentData.currentEquipmentData.currentImageIds;
                sendProtocal["ImageDataRecieveText"]( makeLocal , ReceiveText );
            }

            handleSetSendText( SendText ){

                var makeLocal = equipmentData.currentEquipmentData.currentImageIds;
                sendProtocal["ImageDataSendText"]( makeLocal , SendText );
            }

            activeAll(){

                var editOp = this.self;

                document.getElementById(editOp.receiveText).oninput = function(){
                    editOp.handleSetReceiveText( editOp.getReceiveText() );
                };

                document.getElementById(editOp.sendText).oninput = function(){
                    editOp.handleSetSendText( editOp.getSendText() );
                };



                document.getElementById(editOp.equipmentX).oninput = function () {
                    editOp.handleEquipmentXposition( editOp.getXposition() );
                };

                document.getElementById(editOp.equipmentY).oninput = function () {
                    editOp.handleEquipmentYPosition(editOp.getYPosition());
                };

                document.getElementById(editOp.equipmentAngle).onchange = function () {
                    editOp.handleEquipmentAngle( editOp.getAngleValue() );
                };

                document.getElementById( editOp.equipmentSize ).onchange = function () {
                    editOp.handleEquipmentSize( editOp.getSizeValue() );
                };

                document.getElementById(editOp.statusName).oninput = function () {
                    editOp.handleStatusName( editOp.getStatusName() );
                };
                //this.statusImageUploadId
                document.getElementById(editOp.statusImageUploadId).onchange = async function (evt) {

                    var file = evt.target.files[0];
                    var ImageData = (await toBase64(file));
                    editOp.handleStatusImageUpload( ImageData );

                }

                document.getElementById( editOp.imageDataDelete ).onclick= function () {

                    editOp.handleImageDataDelete();

                }

            }



        }


        class SetOp{

            constructor(){

                // actually we don't have do right now

                // we need get id here

                // so work on chemistry then back to here

                this.likeEquipment = "likeEquipment";
                this.shareEquipment = "shareEquipment";
                this.createDuplicate = "createDuplicate";
                this.deleteEquipment = "deleteEquipment";

                this.self;
            }


            setLikeBaseBoolean( booleanValue ){
                if( booleanValue == true ){
                    this.setDisLike();
                }else{
                    this.setLike();
                }
            }

            setShareBaseBoolean( booleanValue ){
                if( booleanValue == true ){
                    this.setNoShare();
                }else{
                    this.setShare();
                }
            }

            setLike(){
                //document.getElementById(this.likeEquipment).innerHTML = "<i class='fas fa-heart'></i> Like Equip";
                document.getElementById(this.likeEquipment).className = "btn btn-lg h2 d-block btn-outline-danger text-capitalize";

            }

            setDisLike(){
                //document.getElementById(this.likeEquipment).innerHTML = "<i class='fas fa-heart'></i> DisLike Equip";
                document.getElementById(this.likeEquipment).className = "btn btn-lg h2 d-block btn-danger text-capitalize";
            }

            setShare(){
                document.getElementById(this.shareEquipment).className =   "btn btn-lg h2 d-block btn-outline-success text-capitalize";
            }

            setNoShare(){
                document.getElementById(this.shareEquipment).className =   "btn btn-lg h2 d-block btn-success text-capitalize";
            }

            isLike(){
                if( document.getElementById(this.likeEquipment).className == "btn btn-lg h2 d-block btn-outline-danger text-capitalize" ){
                    return true;
                }else{
                    return false;
                }
            }

            // true means have not share and want to share
            isShare(){
                if( document.getElementById(this.shareEquipment).className == "btn btn-lg h2 d-block btn-outline-success text-capitalize" ){
                    return true;
                }else{
                    return false;
                }
            }

            handleLike( boolean ){

                //
                //console.log(boolean);
                //equipmentData.currentEquipmentData.currentImageIds
                //var currentImageId = equipmentData.currentEquipmentData.currentImageIds;

                sendProtocal["likeEquipment"](   boolean );

            }

            handleShare( boolean ){

                //var currentImageId = equipmentData.currentEquipmentData.currentImageIds;
                //console.log(boolean);
                sendProtocal["shareEquipment"](   boolean);
            }

            handleDelete(){

                //var currentImageId = equipmentData.currentEquipmentData.currentImageIds;

                sendProtocal["deleteEquipment"]( );

            }

            handleDuplicate(){

                //var currentImageId = equipmentData.currentEquipmentData.currentImageIds;

                sendProtocal["duplicateEquipment"](  );

            }

            activeAll(){

                var setOp = new SetOp();
                document.getElementById( setOp.likeEquipment ).onclick = function () {
                    setOp.handleLike( setOp.isLike() );
                };

                document.getElementById( setOp.shareEquipment ).onclick = function () {
                    setOp.handleShare( setOp.isShare() );
                };

                document.getElementById( setOp.createDuplicate ).onclick =function () {
                    setOp.handleDuplicate();
                };

                document.getElementById( setOp.deleteEquipment ).onclick =function () {
                    setOp.handleDelete();
                };

            }




        }

        class AddOp{

            constructor(){



            }




        }




    </script>
    <!--    EquipmentNav-->
    <script >
        //src="/equipmentJS/EquipmentNav.js"

        class EquipmentNav{
            constructor(){
                this.folder = "equipmentFolderHideId";
                this.controlPane = "controlPaneHideId";
                this.centerBoard = "centerBoardId";
                this.dragClickBoard = "dragBoardId";
                this.sync = "syncId";
                this.isFolderShowing = true;
                this.isControlPaneShowing = true;
                this.isClickMode = true;
                this.self = null;
                this.theWindow = null;

            }
            setDragClickBoardToDrag(){
                document.getElementById( this.dragClickBoard ).innerHTML = "<span ><i class=\"fas fa-paw\"></i></span>";
            }
            setDragClickBoardToClick(){
                document.getElementById( this.dragClickBoard ).innerHTML = "<i class=\"fas fa-mouse-pointer\"></i>";
            }
            // fa-rotate-90
            //<i class="fas fa-sync-alt"></i>
            loadfromIsClickMode(){
                if( this.isClickMode == true ){
                    this.setDragClickBoardToClick();
                }else{
                    this.setDragClickBoardToDrag();
                }
            }
            setSynOneCircle(){
                //loadContent();
                //setTimeout(this.setSynOneCircleOne, 500);
                var pos=0;
                var id = setInterval(frame, 5);
                function frame() {
                    if (pos == 360) {
                        clearInterval(id);
                    } else {
                        pos++;
                        // elem.style.top = pos + "px";
                        // elem.style.left = pos + "px";
                        //this.setSyncByAngle( pos*6 );
                        //console.log("66");
                        document.getElementById( "syncId" ).style.transform = "rotate("+pos+"deg)";
                        //document.getElementById( "syncId" ).innerHTML = "<i class=\"fas fa-sync-alt fa-rotate-"+ pos*6+"\"></i>";
                    }
                }
            }
            //controlPaneHideId
            setControlPaneHideIdToHide(){
                document.getElementById(this.controlPane).innerHTML = " control panel <i class=\"fas fa-eye-slash\"></i> ";
            }
            seControlPaneHideIdToDisplay(){
                document.getElementById(this.controlPane).innerHTML = " control panel <i class=\"far fa-eye\"></i> ";
            }
            setEquipmentFolderHideIdToHide(){
                document.getElementById(this.folder).innerHTML = " equipment panel <i class=\"fas fa-eye-slash\"></i> ";
            }
            setEquipmentFolderHideIdToDisplay(){
                document.getElementById(this.folder).innerHTML = " equipment panel <i class=\"far fa-eye\"></i> ";
            }

            handleSync(){
                var equipmentNav  =this.self;
                equipmentNav.setSynOneCircle();
            }

            handleDragClick(){
                var equipmentNav  =this.self;
                if( equipmentNav.isClickMode ==true ){
                    equipmentNav.setDragClickBoardToDrag();
                    equipmentNav.isClickMode = false;
                }else{
                    equipmentNav.setDragClickBoardToClick();
                    equipmentNav.isClickMode =true;
                }
            }

            handleControlPane(){
                var equipmentNav  =this.self;
                var theWindow = this.theWindow;
                if( equipmentNav.isControlPaneShowing == true ){
                    // here we need change the data of window
                    // if it's true
                    // we need change to false and hide right side control panel
                    // we need change the window data
                    //theWindow = new TheWindow();
                    equipmentNav.seControlPaneHideIdToDisplay();
                    theWindow.equipmentOperationSectionWidth = 0;
                    theWindow.update();
                    document.getElementById("equipmentOperationSection").style.display = "none";
                    // we need change the
                    //
                    equipmentNav.isControlPaneShowing = false;
                }else{
                    theWindow.equipmentOperationSectionWidth = 380;
                    theWindow.update();
                    equipmentNav.setControlPaneHideIdToHide();
                    document.getElementById("equipmentOperationSection").style.display = "";
                    equipmentNav.isControlPaneShowing = true;
                }

            }

            handleFolder(){
                var equipmentNav  =this.self;

                if( equipmentNav.isFolderShowing == true ){
                    // here we need change the data of window
                    // if it's true
                    // we need change to false and hide right side control panel
                    // we need change the window data
                    //theWindow = new TheWindow();
                    equipmentNav.setEquipmentFolderHideIdToDisplay();
                    // this.operationListWidth = 50;
                    // this.equipmentListWidth = 200;
                    //theWindow.equipmentOperationSectionWidth = 0;
                    theWindow.operationListWidth =0;
                    theWindow.equipmentListWidth =0;
                    //document.getElementById("equipmentPanel").style.display = "none";
                    document.getElementById("equipmentBody").style.display = "none";
                    // we need change the
                    //
                    document.getElementById("equipmentPanel").style.marginLeft = "0px";
                    //document.getElementById("equipmentBody").style.left = "0px";
                    theWindow.update();
                    equipmentNav.isFolderShowing = false;
                }else{
                    //theWindow.equipmentOperationSectionWidth = 380;
                    theWindow.operationListWidth =50;
                    theWindow.equipmentListWidth =200;
                    document.getElementById("equipmentPanel").style.marginLeft = "250px";
                    equipmentNav.setEquipmentFolderHideIdToHide();
                    //document.getElementById("equipmentPanel").style.display = "";
                    document.getElementById("equipmentBody").style.display = "";
                    equipmentNav.isFolderShowing = true;
                    //document.getElementById("equipmentBody").style.position = "fixed";
                    theWindow.update();
                }
            }

            handleCenterBoard(){

                var equipmentNav  =this.self;

                //

            }

            activeAllButtons(){
                var equipmentNav = this.self;
                //equipmentNav = new EquipmentNav();
                document.getElementById(equipmentNav.sync).onclick= function () {
                    equipmentNav.handleSync();
                };
                document.getElementById( equipmentNav.dragClickBoard ).onclick = function () {
                    equipmentNav.handleDragClick();
                };
                document.getElementById( equipmentNav.controlPane ).onclick = function () {
                    equipmentNav.handleControlPane();
                };
                document.getElementById( equipmentNav.folder ).onclick = function () {
                    equipmentNav.handleFolder();
                };
                document.getElementById( equipmentNav.centerBoard ).onclick =function () {
                    equipmentNav.handleCenterBoard();
                }
            }

            activeShareFindModel(){
                var equipmentNav = this.self;
                document.getElementById(equipmentNav.sync).onclick= function () {
                    equipmentNav.handleSync();
                };

                document.getElementById( equipmentNav.folder ).onclick = function () {
                    equipmentNav.handleFolder();
                };

                equipmentNav.handleControlPane();

                // this.controlPane
                // this.isClickMode
                // this.dragClickBoard
                // this.centerBoard

                document.getElementById( equipmentNav.controlPane ).style.display = "none";
                document.getElementById( equipmentNav.dragClickBoard ).style.display = "none";
                document.getElementById( equipmentNav.centerBoard ).style.display = "none";


            }

            // setSynOneCircleOne( f ){
            //
            //     //this.setSyncByAngle( this.syncCount*30 );
            //     console.log("what");
            //
            //     this.syncCount = this.syncCount+1;
            //
            //     if(this.sync < 12) {
            //
            //         setTimeout(f  , 500);
            //     }
            // }
            //<i class="fas fa-eye-slash"></i>
            //<i class="far fa-eye"></i>
            // now we need
        }

        //_________________________________________________________

        // equipmentNav = new EquipmentNav();
        // equipmentNav.self = equipmentNav;
        // equipmentNav.activeAllButtons();      // create model
        // equipmentNav.activeShareFindModel();  // share and find model






    </script>
    <!--  folderMin  -->
    <script >
        //src="/equipmentJS/FolderMin.js"


        class FolderMin{
            constructor(){
                // we don't need save value here
                this.folderMin = "minFolder";
                //this.manageFolderJumpAddress = "#123";
                this.folderNames = ["1", "2", "3"];
                this.folderIds = ["id1","id2", "id3"];
                this.self = null;
            }
            // we need create a folder by name
            // we need
            //sortable3
            setFolderNames( folderNames , folderIds ){
                this.folderNames = folderNames;
                this.folderIds = folderIds;
                this.__refresh();
            }
            setSelf( self ){
                this.self = self;
            }
            // those three function we need change the herf
            // so it can jump to some where
            // __getDivideLine(){
            //     //<div class='dropdown-divider'></div>
            //     //<div class="dropdown-divider"></div>
            //     return "<div class=\"dropdown-divider\"></div>";
            // }
            //
            // __getMangaeFolder(){
            //     //<a class="dropdown-item" href="#"><i class="fas fa-folder"></i>&nbsp;&nbsp;Mangae Folders</a>
            //     //<a class='dropdown-item' href='#'><i class='fas fa-folder'></i>&nbsp;&nbsp;Mangae Folders</a>
            //     return "<a class=\"dropdown-item\" href=\""+this.manageFolderJumpAddress+"\"><i class=\"fas fa-folder\"></i>&nbsp;&nbsp;Mangae Folders</a>";
            // }
            //
            //
            //
            // __getButtomHTML(){
            //     return this.getDivideLine()+this.getMangaeFolder();
            // }
            // getDynamicItem(){
            //     // <div class='input-group bg-light dropdown-item' style='border: 0px'>
            //     //         <input type='text' style='border: 0px' class='form-control bg-light text-dark text-truncate font-weight-normal' value='folder 1'>
            //     //         <div class='input-group-append bg-light' style='border: 0px'>
            //     //         <span class='input-group-text bg-light' style='border: 0px'><i class='fas fa-minus'></i></span>
            //     //     </div>
            //     //     </div>
            //
            //
            //     var ReturnData = " <div class='input-group bg-light dropdown-item' style='border: 0px'>\n" +
            //         "                <input type='text' style='border: 0px' class='form-control bg-light text-dark text-truncate font-weight-normal' value='folder 1'>\n" +
            //         "                <div class='input-group-append bg-light' style='border: 0px'>\n" +
            //         "                <span class='input-group-text bg-light' style='border: 0px'><i class='fas fa-minus'></i></span>\n" +
            //         "            </div>\n" +
            //         "            </div>";
            //
            //
            //
            //     return
            // }
            // we need register on click function
            // so this just call the same function
            __getStaticItem( folderName , folderId ){
                //<div class="dropdown-item"><p class="d-inline">Folder 2</div>
                //<div class='dropdown-item'><p class='d-inline'>Folder 2</div>
                var ClassName = "dropdown-item text-truncate";
                // var OnClick = "function () {   }"
                return "<div class='"+ClassName+"' id='"+folderId+"' >"+folderName+"</div>";
            }
            __getAllHTML(  ){
                var total = "";
                for( var i = 0 ; i < this.folderNames.length ; i++ ){
                    //folderNames[i]
                    total = total+this.__getStaticItem( this.folderNames[i] , this.folderIds[i] );
                }
                //total = total + this.getButtomHTML();
                return total;
            }
            __setHTML(){
                document.getElementById(this.folderMin).innerHTML = this.__getAllHTML();
            }
            __activeButton(){
                var self = this.self;
                document.getElementById(this.folderMin).onchange = function () {
                    //console.log("print something first");
                    // good it dose work
                    //
                    // the function don't change it self
                    // instead it read all the data and send to back side
                    // document.getElementById(folderMin.folderMin).childNodes.forEach(
                    //
                    //     function(item){
                    //
                    //         //console.log(item);
                    //
                    //         console.log(item);
                    //
                    //
                    //     }
                    //
                    //
                    // )
                    //console.log(  document.getElementById(folderMin.folderMin).children[0].id );
                    //console.log( document.getElementById(folderMin.folderMin).childNodes[0] );
                    // so we need writ  a function get the id
                    // so it will start the id with id=" or id='
                    var folderNode =  document.getElementById(folderMin.folderMin).children;
                    var folderIds = [];
                    for( var i = 0 ; i < folderNode.length ; i++ ){
                        folderIds.push( folderNode[i].id );
                    }
                    // we will send to message prepare
                    console.log(folderIds);
                }
                for( var i = 0 ; i < this.folderIds.length ; i ++ ){
                    document.getElementById(this.folderIds[i]).onclick = function () {
                        console.log("666");
                        //console.log(self.getDivideLine());
                    }
                }
                //document.getElementById(this.folderMin).
            }
            __refresh(){
                this.__setHTML();
                this.__activeButton()
            }
        }

        //___________________________________________

        // the description below is how to use
        // this javascript class

        /*

                    folderMin = new FolderMin();
                    folderMin.__refresh();

                    there is a problem
                        // it lack of icon
                        // so we could now the icon
                     we don't focus on this
                        this time

                    // so we will do this later

         */




    </script>
    <!--  folderContent  -->
    <script >
        //src="/equipmentJS/FolderContent.js"





        class Card{
            constructor(){
                this.imageData = null;
                this.imageTitle = null;
                this.imageContent = null;
                this.imageId = null;
            }
            __ceateFakeData(){
                this.imageData = "https://ml4141715.github.io/water/cdn/image/Holder.png";
                this.imageTitle = "666imageTitle";
                this.imageContent = "7789imageContent";
                this.imageId = "675imageId";
            }
            // we will add some button here
            // so what we will add
            // favorite
            // duplicate
            // delete
            // <div class="card mb-1 grid-square">
            //         <img class="card-img-top img-fluid grid-photo" src="https://ml4141715.github.io/water/cdn/image/Holder.png" alt="" draggable="false">
            //         <div class="card-body">
            //         <p class="card-title h4 small font-weight-bold">Holder</p>
            //         <p class="card-text h5 small">Author: Homelander </p>
            // </div>
            // </div>
            __cardHTML(){
                var ReturnData = "<div class=\"card mb-1 grid-square\"  id=\""+this.imageId+"\" >\n" +
                    "                <img class=\"card-img-top img-fluid grid-photo\" src=\""+this.imageData+"\" alt=\"\" draggable=\"false\">\n" +
                    "                <div class=\"card-body\">\n" +

                    "                    <p class=\"card-title h4 small font-weight-bold\">"+this.imageTitle+"</p>\n" +
                    "                    <p class=\"card-text h5 small\">"+this.imageContent+"</p>\n" +
                    "                </div>\n" +
                    "            </div>";
                return ReturnData;

                // var ReturnData = "<div class='btn btn-muted' id='"+this.imageId+"'><img class></div>"
                //
                // return ReturnData;
            }
            getHTML(){
                return this.__cardHTML();
            }
        }
        // <div id="btn btn-group" >
        //     <div class="btn btn-primary " ><i class="fas fa-eraser"></i></div>
        // <div class="btn btn-success " ><i class="fas fa-clone "></i></div>
        // <div class="btn btn-danger " ><i class="fas fa-heart "></i></div>
        // </div>

        //var changContent = "";

        //onmouseleave=\"threeButton("+this.imageId+")\"
        //onmouseenter=\"threeButton("+this.imageId+")\"

        //     function threeButton( evt ) {
        //
        //
        // //evt.innerHTML
        // //evt.id
        //
        //         console.log( evt.id  );
        //
        //
        //     }

        class Cards{
            constructor(){
                this.cards = [];
                this.folderContentId = "folderContent";// 1721
            }
            addCard( imageData , imageTitle , imageContent , imageId ){
                var card = new Card();
                card.imageContent = imageContent;
                card.imageTitle = imageTitle;
                card.imageData = imageData;
                card.imageId = imageId;

                this.cards.push(card);
            }
            clearCards(  ){
                this.cards = [];
            }
            __creatFakeData(){


                this.addCard( "https://ml4141715.github.io/water/cdn/image/Holder.png" , "imageTitle1" , "imageContent1" , "imageId1" );
                // this.addCard( "https://ml4141715.github.io/water/cdn/image/Holder.png" , "imageTitle1" , "imageContent1" , "imageId1" );
                // this.addCard( "https://ml4141715.github.io/water/cdn/image/Holder.png" , "imageTitle1" , "imageContent1" , "imageId1" );
                // this.addCard( "https://ml4141715.github.io/water/cdn/image/Holder.png" , "imageTitle1" , "imageContent1" , "imageId1" );
                // //console.log(this.cards[0].getHTML());
            }
            __cardsHTML(){
                var total = "";
                for( var i = 0 ; i< this.cards.length ; i ++ ){
                    total = total+ this.cards[i].getHTML();
                    //console.log(this.cards[i].getHTML());
                }
                //console.log(total);
                return total;
            }
            setHTML(){
                // console.log( "this.__cardsHTML()" );
                // console.log( this.__cardsHTML() );
                //console.log( "this.__cardsHTML()" );

                document.getElementById(this.folderContentId).innerHTML = this.__cardsHTML();

                for( var i = 0 ; i< this.cards.length ; i++ ){

                    var cardId = this.cards[i].imageId;

                    document.getElementById(cardId).onclick = function (evt) {

                        var cardId = evt.path[1].id;

                        window.open("/equipment/"+cardId , "_blank");

                        //console.log(cardId+"is card Id");
                        //console.log(evt);
                    }

                    //console.log( cardId );


                }
                //console.log( "this.__cardsHTML()" );

            }
        }


        // var cards = new Cards();
        // cards.__creatFakeData();
        // cards.setHTML();

        //________________________ the description below is how to use this js class_______________________

        //var cards = new Cards();
        // cards.__creatFakeData();
        // cards.__creatFakeData();
        // cards.__creatFakeData();
        // cards.setHTML();






    </script>
    <!-- main -->
    <script >
        //src="/equipmentJS/Main.js"



        class Main{

            constructor(){
                this.theWindow = null;
                this.eOSection = null;
                this.equipmentNav = null;
                this.self = null

            }

            activeWindow(){

                var main = this.self;
                main.theWindow = new TheWindow();



            }

            activePad(){

                var main = this.self;
                main.eOSection = new EquipmentOperationSection();
                main.eOSection.activeAllButton( main.eOSection );
                main.eOSection.setIndexActive(0);

            }

            activeEquipmentNav(){
                var main = this.self;

                main.equipmentNav = new EquipmentNav();
                main.equipmentNav.theWindow = main.theWindow;
                main.equipmentNav.self = main.equipmentNav;
                main.equipmentNav.activeAllButtons();

            }

            activeAll(){
                var main = this.self;
                main.activeWindow();
                main.activePad();
                main.activeEquipmentNav();
                //main.equipmentNav.handleControlPane();
                //main.equipmentNav.handleControlPane();


            }

            activeFind(){
                var main = this.self;
                main.activeWindow();
                main.activePad();
                main.activeEquipmentNav();
                //main.equipmentNav.
                //main.equipmentNav.handleControlPane();
            }

        }


    </script>
    <!--  Protocal  -->
    <script >
        //src="/equipmentJS/Protocal.js"




    </script>
    <!--  all the data  -->
    <script >
        //src="/equipmentJS/Data.js"






        class ImageStorage{

            constructor(){
                this.imageBlob = {};
            }

            getItem( key ){
                return this.imageBlob[key];
            }

            setItem( key , value ){
                this.imageBlob[key] = value;
            }

        }

        class EquipmentData{

            constructor(){

                // here will have all the data

                // it will contain some

                this.UserEquipment = "";
                this.UserEquipmentFolders = {};
                this.EquipmentData ={};
                this.ImageBlob = {};

                this.currentEquipmentData = "";
                this.ImageData = {};

                this.currentFolder = "all";
                //this.currentImageDataId = "5dd8558e403e78018e8b8cec";
                // this data will be saved

            }

            displayCurrentImageData(){

                // here we do all the display

                if( equipmentData.currentEquipmentData.currentImageIds != "" ){

                    var imageData = this.ImageData[ this.currentEquipmentData.currentImageIds ];

                    if( imageData != null ){

                        // editOp.setAngleValue( imageData.angle );
                        // editOp.setSizeValue( imageData.size );
                        editOp.setStatusName( imageData.name );
                        editOp.setXposition( imageData.position.x );
                        editOp.setYPosition( imageData.position.y );



                        editOp.setReceiveText( imageData.receiveText[0] );


                        var total = "";
                        for( var i = 0 ; i < imageData.sendText.length-1 ;i++ ){

                            total = total+ imageData.sendText[i] +" ";

                        }
                        total = total + imageData.sendText[ imageData.sendText.length-1 ];

                        if(total==null || total=="undefined"){
                            editOp.setSendtext( "" );
                        }else{
                            editOp.setSendtext( total );
                        }



                        // getReceiveText(){
                        //     return document.getElementById(this.receiveText).value;
                        // }
                        //
                        // setReceiveText( value ){
                        //     document.getElementById(this.receiveText).value = value;
                        // }
                        //
                        // getSendText(){
                        //     return document.getElementById( this.sendText ).value;
                        // }
                        //
                        // setSendtext( value ){
                        //     document.getElementById( this.sendText ).value = value;
                        // }
                    }


                    //setDropDown( imageDataIds, imageDataNames )

                    //


                }else{
                    editOp.setAngleValue( 0 );
                    editOp.setSizeValue( 0 );
                    editOp.setStatusName( "select or upload to start" );
                    editOp.setXposition( 0 );
                    editOp.setYPosition( 0 );

                }


                var imageDataIds = this.currentEquipmentData.imageIds;

                var imageDataNames = [];
                for( var i = 0 ; i< imageDataIds.length ; i++ ){
                    var name = this.ImageData[ imageDataIds[i] ]["name"];
                    imageDataNames.push(name);
                }

                if( imageDataNames.length != 0 ){


                    editOp.setDropDown(  imageDataIds, imageDataNames );

                }else{

                    editOp.setDropDownHTML("");

                }



                // editOp.setAngleValue()
                // editOp.setSizeValue()
                // editOp.setStatusName()
                // editOp.setXposition()
                // editOp.setYPosition()
                // imageData.angle
                // imageData.size
                // imageData.name
                // imageData.position.x



            }

            displayFolder(){
                if( this.currentFolder == "all" ){

                    this.__displayAll();
                }else if( this.currentFolder == "share" ){
                    this.__displayShare();
                }else if( this.currentFolder == "favourite" ){
                    this.__displayfavourite();
                }else if( this.currentFolder == "recent" ){
                    this.__displayRecent();
                }

            }


            __displayAll(  ){
                this.__displayFolderByType( "all" );
            }

            __displayShare(){
                this.__displayFolderByType( "share" );
            }

            __displayfavourite(){
                this.__displayFolderByType( "favourite" );
            }

            __displayRecent(){

                //console.log("thi is ercent");

                this.__displayFolderByType( "recent" );
            }

            displayEquipment(){



                var name = this.currentEquipmentData.name;
                var description = this.currentEquipmentData.description;
                var currentImageId = this.currentEquipmentData.coverBlobId;

                if( currentImageId != "" ){

                    var imageblob = imageStorage.getItem( currentImageId );
                    var imageData = JSON.parse(imageblob).blob;

                    //imageOP = new ImageOp();
                    imageOP.setCoverImage( imageData );
                }

                imageOP.setNameValue( name );
                imageOP.setTextArea( description );


                //this.currentEquipmentData.favourite
                //console.log("waht happened?");
                //console.log( this.currentEquipmentData.shared );
                //console.log( this.currentEquipmentData.favourite );

                setOp.setShareBaseBoolean( this.currentEquipmentData.shared );
                setOp.setLikeBaseBoolean( this.currentEquipmentData.favourite );

            }

            __displayFolderByType( type ){


                var cursor;
                var keys = Object.keys(this.UserEquipmentFolders);
                for( var i = 0 ; i < keys.length ; i++ ){
                    cursor = this.UserEquipmentFolders[keys[i]];
                    if( cursor["type"] == type ){


                        break;
                    }
                }


                if( cursor["itemIdsInFolder"] != null ){
                    var cards = new Cards();
                    for( var i = 0  ; i <  cursor["itemIdsInFolder"].length  ; i++ ){
                        var equipmentDataId =  cursor["itemIdsInFolder"][i];
                        var equipmentData = this.EquipmentData[ equipmentDataId ];
                        //imageStorage.getItem(equipmentData.coverBlobId)
                        var imageData;
                        //console.log(equipmentData.coverBlobId);
                        if( equipmentData.coverBlobId == "" ){
                            imageData = "data:image/png;base64,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";
                        }else{
                            var imageblob = imageStorage.getItem(equipmentData.coverBlobId);
                            imageData = JSON.parse(imageblob).blob;
                        }
                        cards.addCard( imageData, equipmentData.name , equipmentData.description , equipmentData.id );
                    }
                    cards.setHTML();

                }


            }

        }


        class LabData{

            constructor(){




            }


        }



    </script>


    <title>Green Lab</title>



    <!--    onLoad-->
    <script>

        // <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA
        // AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO
        // 9TXL0Y4OHwAAAABJRU5ErkJggg==" alt="Red dot" />

        // var path = window.location.pathname;
        // var pathArr = path.split("/");
        //
        // //equipmentUrl = pathArr[1];
        // equipmentUrl =  "5dd3e2c71b84d4282c8c09fa";
        //
        // setTimeout( function (){loadContent()}, 100 );

        const toBase64 = file => new Promise((resolve, reject) => {
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = () => resolve(reader.result);
            reader.onerror = error => reject(error);
        });

        function onResize() {
            main.theWindow.update();
        }




        function connect(){

            var ajax = new Ajax();
            ajax.sendAddress ="/ajax/requestId";
            ajax.handle = function ( message ) {
                //console.log( message );
                websocket = new Websocket();
                websocket.userId = message;
                websocket.itemId=  itemId;
                websocket.receiveMessage = function (message){
                    var obj = JSON.parse(message);
                    receiveProtocal[obj.type]( obj.data );
                } ;
                websocket.connectBroken = function ( ){

                    //console.log("connection broken");
                    setTimeout( connect , 1000 );
                };
                websocket.self = websocket;
                websocket.subscribeType = websocket.subscribeCreateEquipment; // you need set the subscribe type
                websocket.sendMessage = websocket.__sendEquipmentFrontMessage;
                websocket.connect();

            };
            ajax.self = ajax;
            ajax.sendAjax(itemId);

        }



        // now we work on creat new equipment
        // so it just somewhere to do ajax jump
        // I mean don't need to be a form
        // create onclick
        // so the code

        function test() {

            //console.log("5565");

            //sendProtocal["loadFolder"]();

            // var sendData = {};
            // sendData["type"] = "loadFolder";
            // if( itemId != null ){
            //     sendData["itemId"] = itemId;
            // }
            // sendData["data"] = 'data';
            //
            // websocket.sendMessage( JSON.stringify(sendData));

        }





        class Configuration{

            constructor(  ){

                // here we do some combination
                this.loadSuccessPack();

                this.loadOperationIntro();

                this.loadOperationEdit();

                this.loadOperationArea();

                this.loadOperationSet();
            }

            loadSuccessPack(){

                sendProtocal["updateFolderSequence"]=function (nodes , currentFolder ) {

                    // var sendData = {};
                    // sendData["nodes"] = nodes;
                    // sendData["folderType"] =


                    // websocket.sendMessage( quickPrepare( "updateFolderSequence" ,  ) )
                } ;

                receiveProtocal["connectSuccess"] = function (message) {
                    //console.log("receive connectSuccess");
                    sendProtocal["loadAll"]();
                };

                sendProtocal["loadAll"] = function (message) {
                    sendProtocal["loadFolder"]();
                    sendProtocal["loadEquipment"]();
                };

                receiveProtocal["loadAll"] = function (message) {
                    sendProtocal["loadAll"]();
                };



                sendProtocal["loadEquipment"] = function (message) {

                    websocket.sendMessage( quickPrepare("loadEquipment" ) );

                };

                receiveProtocal["loadFolder"] = function (message) {

                    for( var i = 0 ; i< message.length ; i++  ){
                        var messageData = JSON.parse(message[i]["data"]);
                        if( message[i]["type"] == "UserEquipment" ){
                            equipmentData.UserEquipment = messageData;
                        }else if( message[i]["type"] == "UserEquipmentFolder" ){
                            equipmentData.UserEquipmentFolders[ messageData["userFolderId"] ] = messageData;
                        }else if( message[i]["type"] == "EquipmentData" ){
                            equipmentData.EquipmentData[ messageData["id"] ] = messageData;
                        }

                    }

                    var keys = Object.keys( equipmentData.EquipmentData );
                    var imageIdArr = [];
                    for( var i  = 0  ; i< keys.length ; i++ ){
                        var coverBlobId = equipmentData.EquipmentData[keys[i]]["coverBlobId"];

                        if( coverBlobId != "" ){
                            if( imageStorage.getItem( coverBlobId ) == null ){
                                imageIdArr.push(coverBlobId);
                            }
                        }


                    }

                    if( imageIdArr.length == 0 ){
                        equipmentData.displayFolder();
                    }else{
                        sendProtocal["loadImage"]( "displayFolder",  imageIdArr );
                    }


                };

                sendProtocal["loadFolder"] = function (message) {
                    //quickPrepare( "loadFolder", "" );
                    websocket.sendMessage( quickPrepare("loadFolder" ) );
                };

                receiveProtocal["loadEquipment"] = function (message) {
                    //console.log("omg6667");

                    for( var  i = 0 ; i< message.length ; i++ ){

                        var eachMessage = message[i];
                        var key = Object.keys(eachMessage)[0];
                        //console.log(eachMessage);

                        if( key == "EquipmentData" ){
                            var eachMessageValue = eachMessage["EquipmentData"];
                            //console.log(eachMessageValue);
                            var currentEquipmentData = JSON.parse( eachMessageValue );
                            equipmentData.currentEquipmentData = currentEquipmentData;


                        }else if( key == "ImageData"  ){

                            var eachMessageValue = eachMessage["ImageData"];
                            //console.log( eachMessageValue );
                            var imageData = JSON.parse( eachMessageValue );
                            equipmentData.ImageData[ imageData["id"] ] = imageData;

                        }

                    }

                    //console.log(equipmentData);

                    var imageIdArr = [];
                    var coverImageId  = equipmentData.currentEquipmentData.coverBlobId;
                    if(  coverImageId != "" ){
                        var value = imageStorage.getItem( coverImageId );
                        if( value == null ){
                            imageIdArr.push( coverImageId );
                        }
                    }


                    if( imageIdArr.length == 0 ){
                        equipmentData.displayEquipment();
                    }else{
                        sendProtocal["loadImage"]( "displayEquipment",  imageIdArr );
                    }

                    equipmentData.displayCurrentImageData();


                    //console.log(equipmentData);

                };
            //____________________________________________________________________________
            //     sendProtocal["loadImage"] = function ( refreshType, imageIdArr ) {
            //         var sendData = {};
            //         sendData["refreshType"] = refreshType;
            //         sendData["imageIdArr"] = imageIdArr;
            //         websocket.sendMessage( quickPrepare("loadImage" , sendData ) );
            //     };
            //
            //     receiveProtocal["loadImage"] = function (message) {
            //         //console.log("omg666");
            //         //console.log(message);
            //
            //         var refreshType = message["refreshType"];
            //         var imageBlobs = message["data"];
            //
            //         //displayFolder
            //
            //         //console.log(imageBlobs);
            //
            //         for( var i  = 0 ; i< imageBlobs.length ; i++ ){
            //             var imageBlob = JSON.parse(imageBlobs[i]);
            //             //console.log(imageBlob);
            //             imageStorage.setItem( imageBlob["id"] , imageBlobs[i] );
            //         }
            //
            //
            //         if( refreshType == "displayFolder" ){
            //             equipmentData.displayFolder();
            //         }else if(  refreshType == "displayEquipment" ){
            //
            //             equipmentData.displayEquipment();
            //
            //         }
            //
            //     };
            //____________________________________________________________________________

                sendProtocal["loadImage"] = function ( refreshType, imageIdArr ) {


                    //console.log(imageIdArr);

                    var sendData = {};
                    sendData["labId"] = itemId;
                    sendData["blobIds"] = imageIdArr;

                    $.ajax({
                        type: "POST",
                        contentType: "application/json",
                        url: "/ajax/downloadImages",
                        data: JSON.stringify(sendData),
                        dataType: 'json',
                        cache: false,
                        timeout: 600000,
                        success: function (info) {
                            var imageBlobArr =  JSON.parse( info.data );
                            for( var i = 0 ; i< imageBlobArr.length ;i++ ){
                                var imageBlobStr = imageBlobArr[i];
                                var imageBlob = JSON.parse(imageBlobStr);
                                var imageBlobId = imageBlob.id;
                                imageStorage.setItem( imageBlobId , imageBlobStr );
                            }

                            //var imageBlob =  JSON.parse( info.data );
                            //imageStorage.setItem( imageBlob.id , info.data );
                            //labData.__displayAllEquipment();
                            //labData.__displayFolderConetnt();


                            if( refreshType == "displayFolder" ){
                                equipmentData.displayFolder();
                            }else if(  refreshType == "displayEquipment" ){

                                equipmentData.displayEquipment();

                            }


                            //console.log(info);
                        },
                        error: function (e) {



                        }
                    });


                    // now we need
                    // if( refreshType == "displayFolder" ){
                    //     equipmentData.displayFolder();
                    // }else if(  refreshType == "displayEquipment" ){
                    //
                    //     equipmentData.displayEquipment();
                    //
                    // }

                }



            }

            loadOperationIntro(){

                // this section has been active
                // now we need update this section
                //

                sendProtocal["updateNameBoth"] = function (name) {

                    //console.log(name+"?");
                    websocket.sendMessage( quickPrepare("updateNameBoth" , name ) );


                };

                sendProtocal["updateDescriptionBoth"] = function (description) {

                    //console.log(description+"description");
                    websocket.sendMessage( quickPrepare("updateDescriptionBoth" , description ) );
                };

                sendProtocal["uploadCoverImageBoth"] = function (imageData) {

                    //websocket.sendMessage( quickPrepare("uploadCoverImageBoth" , imageData ) );

                    var userId = websocket.userId;
                    var websocketId = websocket.websocketId;

                    var sendData = {};
                    sendData["userId"] = websocket.userId;
                    sendData["equipId"] = itemId;
                    sendData["imageData"] = imageData;

                    $.ajax({
                        type: "POST",
                        contentType: "application/json",
                        url: "/ajax/uploadEquipCoverImage",
                        data: JSON.stringify(sendData),
                        dataType: 'json',
                        cache: false,
                        timeout: 600000,
                        success: function (data) {

                            console.log(data);

                        },
                        error: function (e) {



                        }
                    });



                };



            }

            loadOperationEdit(){

                sendProtocal["selectImageData"] = function ( selectImageDataId ){

                    //console.log(selectImageDataId);

                    websocket.sendMessage( quickPrepare("selectImageData" , selectImageDataId ) );

                };

                sendProtocal["updateStatusNameImage"] = function ( imageDataId , statusName ) {


                    // console.log(statusName+"__statusName");
                    // console.log(imageDataId+"__imageDataId");

                    var sendData ={};
                    sendData["imageDataId"] = imageDataId;
                    sendData["statusName"] = statusName;
                    websocket.sendMessage( quickPrepare("updateStatusNameImage" , sendData ) );

                };



                sendProtocal["updateSizeImage"] = function ( imageDataId , sizeValue ) {

                    var sendData ={};
                    sendData["imageDataId"] = imageDataId;
                    sendData["sizeValue"] = sizeValue;
                    websocket.sendMessage( quickPrepare("updateSizeImage" , sendData ) );

                };

                sendProtocal["updateAngleImage"] = function ( imageDataId , sizeAngle ) {

                    var sendData ={};
                    sendData["imageDataId"] = imageDataId;
                    sendData["sizeAngle"] = sizeAngle;
                    websocket.sendMessage( quickPrepare("updateAngleImage" , sendData ) );

                };

                sendProtocal["updateXposImage"] = function ( imageDataId , Xpos ) {

                    var sendData ={};
                    sendData["imageDataId"] = imageDataId;
                    sendData["Xpos"] = Xpos;
                    websocket.sendMessage( quickPrepare("updateXposImage" , sendData ) );

                };

                sendProtocal["updateYposImage"] = function ( imageDataId , Ypos ) {

                    var sendData ={};
                    sendData["imageDataId"] = imageDataId;
                    sendData["Ypos"] = Ypos;
                    websocket.sendMessage( quickPrepare("updateYposImage" , sendData ) );

                };

                sendProtocal["uploadStatusImageImage"] = function (imageData , width , height  ) {


                    var sendData = {};
                    sendData["imageData"] = imageData;
                    sendData["width"] = width;
                    sendData["height"] = height;
                    sendData["userId"] = websocket.userId;
                    sendData["equipId"] = itemId;


                    $.ajax({
                        type: "POST",
                        contentType: "application/json",
                        url: "/ajax/uploadEquipStatusImage",
                        data: JSON.stringify(sendData),
                        dataType: 'json',
                        cache: false,
                        timeout: 600000,
                        success: function (data) {

                            console.log(data);

                        },
                        error: function (e) {



                        }
                    });


                    //websocket.sendMessage( quickPrepare("uploadStatusImageImage" , sendData ) );
                    //console.log(sendData);

                    // not just send data but we need find some where to get the width and height
                    //websocket.sendMessage( quickPrepare("uploadStatusImageImage" , imageData ) );

                };

                sendProtocal["ImageDataDelete"] = function ( imageData  ) {

                    websocket.sendMessage( quickPrepare("ImageDataDelete" , imageData ) );
                };

                sendProtocal["ImageDataRecieveText"] = function (imageData , ReceiveText ) {

                    //console.log( ReceiveText );
                    var sendData = {};
                    sendData["imageData"] = imageData;
                    sendData["ReceiveText"] = ReceiveText;
                    websocket.sendMessage( quickPrepare( "ImageDataRecieveText", sendData ) );



                };

                sendProtocal["ImageDataSendText"] = function (imageData , SendText ) {

                    //console.log( SendText);

                    // if(SendText.)
                    if(SendText.endsWith(" ")==true){

                    }else {

                        var sendData = {};
                        sendData["imageData"] = imageData;
                        sendData["SendText"] = SendText;
                        websocket.sendMessage(quickPrepare("ImageDataSendText", sendData));
                    }

                };

            }

            loadOperationArea(){

                sendProtocal["clickDrawAreaPolygon"] = function ( imageDataId , sizeAngle ) {

                };

                sendProtocal["clickUndoPolygon"] = function ( imageDataId , sizeAngle ) {

                };

                sendProtocal["clickRedoPolygon"] = function ( imageDataId , sizeAngle ) {

                };

                sendProtocal["clickClearPolygon"] = function ( imageDataId , sizeAngle ) {

                };

            }

            loadOperationSet(){

                // this is hard

                // too much operation -.- GG

                sendProtocal["shareEquipment"] = function (   boolean ) {

                    websocket.sendMessage( quickPrepare( "shareEquipment" , boolean ) );

                };

                sendProtocal["likeEquipment"] = function (   boolean ) {

                    websocket.sendMessage( quickPrepare( "likeEquipment" , boolean ) );

                };

                sendProtocal["deleteEquipment"] = function (   ) {

                    websocket.sendMessage( quickPrepare( "deleteEquipment" ) );

                };

                sendProtocal["duplicateEquipment"] = function (  ) {

                    websocket.sendMessage( quickPrepare( "duplicateEquipment" ) );

                };

                receiveProtocal["deleteEquipment"] = function ( equipmentId ) {

                    //console.log("delete it A");

                    window.location.href = "/equipment/"+itemId;

                    // if( itemId == equipmentId ){
                    //
                    //     // jump to
                    //
                    //     //window.location.href = "https://www.stonybrook.club/";
                    //     console.log("delete it B");
                    //
                    // }else{
                    //
                    //     sendProtocal["loadAll"]();
                    //
                    // }

                };

                receiveProtocal["duplicateEquipment"] =function () {


                    // so here will recieve another page



                };


            }


        }

        // function deleteImageData( evt ) {
        //
        //     //console.log("678");
        //
        //     console.log(evt.id);
        //
        // }

        // class Size{
        //     constructor(){
        //         this.width;
        //         this.height;
        //     }
        // }



        var websocket;
        var main;
        var itemId = "5ddb36801edd702fcc8be677";  // set this to null when the program load // now just set to 777
        var sendProtocal = {};
        var receiveProtocal = {};
        var imageOP ;
        var editOp;  //var editOp;  <---- //var editOp = new EditOp();
        var setOp;
        var imageStorage;

        //var size;
        function onLoad() {

            //console.log( window.location.pathname );
            var pathName = window.location.pathname;
            var Arr = pathName.split("/");
            //console.log(Arr[2]);
            itemId = Arr[2];
            imageStorage = new ImageStorage();


            main = new Main();
            main.self = main;

            // the code below is used to hide left or hide right

            // main.theWindow.operationListWidth =0;
            // main.theWindow.equipmentListWidth =0;
            // document.getElementById("equipmentBody").style.display = "none";
            // document.getElementById("equipmentPanel").style.marginLeft = "0px";
            // main.theWindow.update();

            // main.theWindow.equipmentOperationSectionWidth = 0;
            // main.theWindow.update();
            // document.getElementById("equipmentOperationSection").style.display = "none";

            main.activeAll();
            connect();
            equipmentData = new EquipmentData();
            var config = new Configuration();

            imageOP = new ImageOp();
            imageOP.self = imageOP;
            imageOP.activeAll();
            editOp = new EditOp();
            editOp.self = editOp;
            editOp.activeAll();
            setOp = new SetOp();
            setOp.self = setOp;
            setOp.activeAll();


            // map websocket.send to all the place

            document.getElementById("folderContent").onchange = function( evt ){

                var nodes =  document.getElementById("folderContent").childNodes;
                var order = [];
                for( var i = 0 ; i< nodes.length ; i++ ){
                    //console.log(nodes[i].id);
                    order.push( nodes[i].id );
                }

                var currentFolder =  equipmentData.currentFolder;

                sendProtocal["updateFolderSequence"]( nodes , currentFolder  );


            };

            document.getElementById("createNew").onclick =function () {
                var ajax = new Ajax();
                ajax.sendAddress ="/ajax/requestNewEquipment";
                ajax.handle = function ( message ) {
                    //console.log( message );
                    //window.location = message;
                    window.open("/equipment/"+message, "_blank");  //"_blank"  // '_top'
                };
                ajax.self = ajax;
                ajax.sendAjax("666");
                //window.location = "http://www.google.com";
            }

            // websocket = new Websocket();
            // websocket.userId = "666";
            // websocket.itemId=  "777";
            // websocket.receiveMessage = function (message){
            //     console.log(message);
            // } ;
            // websocket.connectBroken = function ( ){
            //
            //     console.log("connection broken");
            //
            // };
            // websocket.self = websocket;
            // websocket.subscribeType = websocket.subscribeCreateEquipment; // you need set the subscribe type
            // websocket.sendMessage = websocket.__sendEquipmentFrontMessage;
            // websocket.connect();

            // all operation will inside the self not main
            // you can save a main in it
            // but you cannot get from out main

        }

        function folderOnclick( evt ) {
//displayFolder(){
//
//             if( this.currentFolder == "all" ){
//                 this.__displayAll();
//             }else if( this.currentFolder == "share" ){
//                 this.__displayShare();
//             }else if( this.currentFolder == "favourite" ){
//                 this.__displayfavourite();
//             }else if( this.currentFolder == "recent" ){
//                 this.__displayRecent();
//             }
//
//         }
//AllFolder FavorFolder ShareFolder RecentFolder
            //console.log(evt.id);
            var id = evt.id;
            if( id == "AllFolder" ){
                equipmentData.currentFolder = "all";
            }else if( id == "FavorFolder" ){
                equipmentData.currentFolder = "favourite";
            }else if( id == "ShareFolder" ) {
                equipmentData.currentFolder = "share";
            }else if( id == "RecentFolder" ){
                equipmentData.currentFolder = "recent";
            }

            //console.log("what happened?");
            //console.log(equipmentData.currentFolder);

            equipmentData.displayFolder();



        }

    </script>



</head>

<body onload="onLoad()" onresize="onResize()"  onclick="test()">
<nav class="navbar navbar-expand-sm navbar-dark bg-dark p-0">
    <div class="container">
        <a href="/" class="navbar-brand font-italic text-capitalize">
            <i class='fas fa-leaf'></i>
            Green Lab</a>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown mr-3">
                <a href="" class="nav-link dropdown-toggle" data-toggle="dropdown" th:text="${email}">
                    <i class="fas fa-user"></i> Welcome Green User
                </a>
                <div class="dropdown-menu">
                    <!--                    <a href="editProfile.html" class="dropdown-item">         th:text="${email}"-->
                    <!--                        <i class="fas fa-user-circle"></i> Profile-->
                    <!--                    </a>-->
                    <a href="/equipment" class="dropdown-item">
                        <i class="fas fa-cog"></i> lab
                    </a>
                    <!--                    <a href="login.html" class="dropdown-item">-->
                    <!--                        <i class="fas fa-user-times"></i> Logout-->
                    <!--                    </a>-->
                </div>

            </li>
            <!--            <li class="nav-item">-->
            <!--                -->
            <!--            </li>-->
        </ul>
    </div>
</nav>
<nav class="navbar navbar-expand-sm navbar-dark bg-success text-white p-0">
    <div class="container">
        <a href="" class="navbar-brand font-italic text-capitalize">
            <i class='fa fa-flask'></i>

            equipment</a>

        <!--        <div class="navbar-nav ml-auto">-->

        <!--            <div><i class="fas fa-paw"></i> drag board mode</div>-->
        <!--            <div><i class="fa fa-flask"></i> hide equipment panel</div>-->
        <!--            <div><i class="fas fa-window-restore"></i> hide control panel</div>-->

        <!--        </div>-->

        <ul class="navbar-nav ml-auto d-none">
            <div class="mt-2 mr-3" style="" id="centerBoardId">
                <i class="far fa-dot-circle"></i>
            </div>

            <div class="mt-2 mr-3" style="" id="dragBoardId">
                <!--                <span ><i class="fas fa-paw"></i></span>-->
                <i class="fas fa-mouse-pointer"></i>
            </div>
            <div class="mt-2 mr-3" style="" >
                <i class="fas fa-sync-alt" id="syncId"></i>
            </div>
            <li class="nav-item dropdown mr-3">
                <a  class="nav-link dropdown-toggle" data-toggle="dropdown">
                    <i class="fas fa-folder-open"></i> window setting
                </a>
                <div class="dropdown-menu">
                    <!--                    <a href="" class="dropdown-item">-->
                    <!--                        <i class="fas fa-paw"></i><span id="dragBoardId" > drag board mode</span>-->
                    <!--                    </a>-->
                    <a  class="dropdown-item" id="equipmentFolderHideId">
                        <i class="fa fa-flask"></i> equipment panel <i class="fas fa-eye-slash"></i>
                    </a>
                    <a  class="dropdown-item text-capitalize" id="controlPaneHideId" >
                        <i class="fas fa-window-restore"></i><span  > control panel <i class="fas fa-eye-slash"></i> </span>
                    </a>
                </div>
            </li>
            <!--            <li class="nav-item">-->
            <!--                <a href="login.html" class="nav-link">-->
            <!--                    <i class="fas fa-window-restore"></i> my course-->
            <!--            <i class="fas fa-eye"></i>  <i class="fas fa-eye-slash"></i>   control panel <i class="far fa-eye"></i> </a>-->
            <!--            </li>-->
        </ul>
    </div>
</nav>



<div id="equipmentBody">


    <div id="operationList">
        <!--        <button class="btn btn-outline-primary" type="button">Primary Outline</button>-->
        <!--        <h1 style="writing-mode: vertical-lr;"> 7797</h1>-->

        <div class="btn btn-warning mb-1 w-100  operationListButton">
            <i class="fas fa-search fa-rotate-90"></i>&nbsp;&nbsp;Find
        </div>

        <div class="btn btn-success mb-1 w-100  operationListButton" id="createNew" >
            <i class="fas fa-plus-square fa-rotate-90"></i>&nbsp;&nbsp;Create New
        </div>

        <div class="btn btn-primary mb-1 w-100  operationListButton">
            <i class="fas fa-share-alt-square fa-rotate-90"></i>&nbsp;&nbsp;Share
        </div>

        <div class="btn btn-info  mb-1 w-100  operationListButton">
            <i class="fas fa-concierge-bell fa-rotate-90"></i>&nbsp;&nbsp;Tutorial
        </div>


    </div>

    <div id="equipmentList">


        <nav class="navbar navbar-dark bg-dark p-0 sticky-top">

            <!--                <a href="/" class="navbar-brand font-italic text-capitalize" > chemistry lab simulator <span id="year"></span></a>-->


            <!--            <div class="btn btn-primary w-100 ">My Equipments &nbsp;<i class="fa fa-caret-down"></i></div>-->

            <div class="btn-group d-block w-100 ">

                <button class="btn btn-primary dropdown-toggle w-100" type="button" data-toggle="dropdown">
                    <span>My Equipments &nbsp;</span>

                </button>
                <div class="dropdown-menu w-100" id="minFolder" >

                    <div class="dropdown-item" id="AllFolder" onclick="folderOnclick(this)" ><i class="fas fa-wallet"></i> All Equipment</div>

                    <!--                    <div class="input-group bg-light dropdown-item" style="border: 0px">-->
                    <!--                        <input type="text" style="border: 0px" class="form-control bg-light text-dark text-truncate font-weight-normal" value="folder 1">-->
                    <!--                        <div class="input-group-append bg-light" style="border: 0px">-->
                    <!--                            <span class="input-group-text bg-light" style="border: 0px"><i class="fas fa-minus"></i></span>-->
                    <!--                        </div>-->
                    <!--                    </div>-->

                    <a class="dropdown-item" id="FavorFolder" onclick="folderOnclick(this)" ><i class="far fa-heart"></i> Favourite</a>
                    <a class="dropdown-item" id="ShareFolder" onclick="folderOnclick(this)" ><i class="fas fa-share-alt"></i> Share</a>
                    <a class="dropdown-item" id="RecentFolder" onclick="folderOnclick(this)" ><i class="fas fa-file-export"></i> Recent</a>
                    <!--                    <div class="dropdown-divider"></div>-->
                    <!--                    <a class="dropdown-item" href="#"><i class="fas fa-folder"></i>&nbsp;&nbsp;Mangae Folders</a>-->
                </div>
            </div>

        </nav>

        <div class="card-rows" id="folderContent">


            <div class="card mb-1 grid-square"  >

                <img class="card-img-top grid-photo img-fluid" src="https://ml4141715.github.io/water/cdn/image/Holder.png" alt="">

                <div class="card-body">
                    <!--                    <div id="btn btn-group" >-->
                    <!--                        <div class="btn btn-primary " ><i class="fas fa-eraser"></i></div>-->
                    <!--                        <div class="btn btn-success " ><i class="fas fa-clone "></i></div>-->
                    <!--                        <div class="btn btn-danger " ><i class="fas fa-heart "></i></div>-->
                    <!--                    </div>-->

                    <p class="card-title h4 pr-1 small font-weight-bold d-inline-block w-75">Holder</p>
                    <p class="card-text h5 small">Author: Homelander </p>
                </div>
            </div>
            <div class="card mb-1 grid-square">
                <img class="card-img-top img-fluid grid-photo" src="https://ml4141715.github.io/water/cdn/image/Measure.png" alt="" draggable="false">
                <div class="card-body" >
                    <p class="card-title h4 small font-weight-bold">Measure</p>
                    <p class="card-text h5 small">Author: Tony Stark </p>
                </div>
            </div>
            <div class="card mb-1">
                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Seperator.png" alt="" draggable="false">
                <div class="card-body">
                    <p class="card-title h4 small font-weight-bold">Seperator</p>
                    <p class="card-text h5 small">Author: Spider Man </p>
                </div>
            </div>
            <div class="card mb-1">
                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Timer.png" alt="" draggable="false">
                <div class="card-body">
                    <p class="card-title h4 small font-weight-bold">Timer</p>
                    <p class="card-text h5 small">Author: Bat Man</p>
                </div>
            </div>

        </div>









    </div>



    <div class="d-none" >
        <!--        <div class="card-rows ">-->
        <!--            <div class="card mb-1">-->
        <!--                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Holder.png" alt="" draggable="false">-->
        <!--                <div class="card-body">-->
        <!--                    <p class="card-title h4 small font-weight-bold">Holder</p>-->
        <!--                    <p class="card-text h5 small">Author: Homelander </p>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            <div class="card mb-1">-->
        <!--                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Measure.png" alt="" draggable="false">-->
        <!--                <div class="card-body">-->
        <!--                    <p class="card-title h4 small font-weight-bold">Measure</p>-->
        <!--                    <p class="card-text h5 small">Author: Tony Stark </p>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            <div class="card mb-1">-->
        <!--                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Seperator.png" alt="" draggable="false">-->
        <!--                <div class="card-body">-->
        <!--                    <p class="card-title h4 small font-weight-bold">Seperator</p>-->
        <!--                    <p class="card-text h5 small">Author: Spider Man </p>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--            <div class="card mb-1">-->
        <!--                <img class="card-img-top img-fluid" src="https://ml4141715.github.io/water/cdn/image/Timer.png" alt="" draggable="false">-->
        <!--                <div class="card-body">-->
        <!--                    <p class="card-title h4 small font-weight-bold">Timer</p>-->
        <!--                    <p class="card-text h5 small">Author: Bat Man</p>-->
        <!--                </div>-->
        <!--            </div>-->
        <!--        </div>-->
    </div>

</div>

<div id="equipmentPanel">
    <iframe  style="width: 100%;height:100%; border: 1px solid mediumseagreen; " th:src="${iframeAdress}" ></iframe>
    <!--    src="equipmentBoard.html"  equipmentBoard.html-->
    <!--    <div id="SVGBoard" style="position: fixed; width: 100%; height: 100%; border: 1px solid mediumseagreen;">  equipmentBoard.html-->
    <!--    onload="makeDraggable(evt)"-->
    <!--        <svg id="SVGBoard" style="border: 1px solid mediumseagreen;" >-->
    <!--            <polygon  points="300,10 250,290 160,210" style="z-index: 9; fill:#ffffff;stroke:purple;stroke-width:1" />-->
    <!--            <polygon points="400,10 250,310 160,210"  style="fill:#5eff8f;stroke:purple;stroke-width:1" />-->
    <!--            <image id="imageA"  href="https://ml4141715.github.io/water/cdn/image/leaf.png" x="-10" y="0" height="50px" width="50px"/>-->
    <!--        </svg>-->
</div>

<div id="equipmentOperationSection">

    <!--   so here we add some operation buttons   border-right-0 border-left-0  -->
    <div class="card h-100 border-bottom-0 ">
        <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs">
                <li class="nav-item ">
                    <a class="nav-link text-muted" id="operationImageSection" ><i class='fas fa-file-image'> Introduction</i></a>

                </li>
                <li class="nav-item">
                    <a class="nav-link text-muted active" id="operationEditSection"  ><i class='fas fa-cut'></i> Editting</a>

                </li>


                <li class="nav-item d-none">
                    <a class="nav-link text-muted " id="operationAreaSection" ><i class="fas fa-puzzle-piece"></i> Add</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link text-muted" id="operationAddSection" ><i class="fas fa-cog"></i> Setting</a>
                </li>
            </ul>
        </div>
        <!--        <div class="card-body d-none">-->
        <!--            <h4 class="card-title">Card Title</h4>-->
        <!--            <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut, perspiciatis.</p>-->
        <!--            <a class="btn btn-primary" href="#">Read More</a>-->
        <!--        </div>-->

        <div class="card-body d-none" id="ImageSection">
            <h4 class="card-title">Upload Image</h4>
            <!--                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut, perspiciatis.</p>-->

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">Name</span>
                </div>
                <input class="form-control" type="text" placeholder="Enter Equipment Name" id="equipmentNameInput">
            </div>

            <div class="form-group mb-3">
                <label for="">Description</label>
                <textarea class="form-control" id="equipmentDescription"></textarea>
            </div>
            <!--       id="equipmentNameInput"  id="equipmentAngle" id="equipmentSize"   id="equipmentDescription"-->

            <div id="coverImageId" >
                <img src="" class="grid-photo-center" style="background-color: aquamarine" alt="">
            </div>

            <br>

            <!--            <div ><form action="/upload" class="dropzone needsclick" id="demo-upload">-->


            <!--            <input type="file" class="my-pond" name="filepond"/>-->



            <div class="custom-file mb-3">
                <input type="file" id="myfile" class="custom-file-input" >
                <label class="custom-file-label" for="myfile"><i class="fas fa-upload"></i> Choose Your Cover Image</label>
            </div>
            <!--                <div class="custom-file mb-2">-->
            <!--                    <input type="file" id="myfile" class="custom-file-input">-->
            <!--                    <label class="custom-file-label" for="myfile">Choose file</label>-->
            <!--            the thing below sholud be a list of images    </div>-->
            <!--           -->

            <!--            <ul  id="sortable2" class="list-group col mb-5 " >-->
            <!--                <li class="list-group-item bg-success " id="image1_test">Image 1</li>-->
            <!--                <li class="list-group-item bg-primary">Image 2</li>-->
            <!--                <li class="list-group-item bg-warning">Image 3</li>-->
            <!--                <li class="list-group-item ">Item 4</li>-->
            <!--            </ul>-->


            <a class="btn btn-primary d-none" >Next Step</a>
        </div>

        <div class="card-body" id="EditSection">

            <div class="btn-group d-block ">
                <!--                <button class="btn btn-primary mr-1" type="button"><i class="far fa-image"></i>&nbsp;Current: Image1</button>-->
                <!--                <button class="btn btn-secondary dropdown-toggle " type="button" data-toggle="dropdown">-->
                <!--                    <span><i class="far fa-images"></i> Status Images </span>-->
                <!--                </button>-->

                <!--                <button class="btn btn-primary mr-1" type="button"><i class="far fa-image"></i>&nbsp;Current: Image1</button>-->

                <button class="btn btn-secondary dropdown-toggle d-block w-100" type="button" data-toggle="dropdown">
                    <span ><i class="far fa-images"></i> Status Images </span>
                </button>



                <div class="dropdown-menu w-100" id="imagestatusDropDown" >


                    <!--                    <div class='dropdown-item'>-->
                    <!--                        <div class='w-75 text-truncate d-inline-block text-left'>imageDataName</div>-->
                    <!--                        <div id='deleteImageDataId' class='w-25 btn btn-outline-primary d-inline-block text-center' >-->
                    <!--                            <i class='far fa-trash-alt'></i>-->
                    <!--                        </div>-->
                    <!--                    </div>-->

                    <!--                    <div class="dropdown-item">-->
                    <!--                        <div class="w-75 text-truncate d-inline-block">Image 1</div>-->
                    <!--                        <div id="666" class="w-25 btn btn-outline-primary d-inline-block text-center"><i class="far fa-trash-alt"></i></div>-->
                    <!--                    </div>-->

                    <div class='dropdown-item text-truncate'  >Image 2</div>
                    <div class='dropdown-item' id='wx' >Image 2</div>
                    <div class='dropdown-item ' id='w' >Image 2</div>

                    <!--                    <div class="dropdown-divider"></div>-->
                    <!--                    <a class="dropdown-item" href="#">Add More</a>-->
                </div>
            </div>
            <br>


            <div class="custom-file mb-3">
                <input type="file" id="myEquipmentStatusFile" class="custom-file-input" >
                <label class="custom-file-label" for="myfile"><i class="fas fa-upload"></i> Add Equipment Status Images</label>
            </div>



            <div class="input-group mb-3 ">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-star-half-alt"></i> Status</span>
                </div>
                <input id="statusName" class="form-control" type="text" placeholder="Enter Status Name">
            </div>



            <div class="btn btn-primary btn-lg d-none" >Add </div>

            <div class="input-group mb-3 ">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="far fa-paper-plane"></i> Text</span>
                </div>
                <input id="sendText" class="form-control" type="text" placeholder="Enter Send Text ">
<!--                <div class="input-group-append">-->
<!--                    <div class="btn btn-secondary">Insert</div>-->
<!--                </div>-->
            </div>

<!--            <ul class="list-group list-group-flush mb-5">-->
<!--                <li class="list-group-item">-->
<!--                    <div class="btn btn-group w-100">-->

<!--                        <div class="btn btn-muted mb-1 mr-2 disabled w-70" id="newStep">-->

<!--                            My List Item Two-->

<!--                        </div>-->

<!--                        <div class="btn btn-danger mb-1 w-30" id="removeLastStep">-->

<!--                            &lt;!&ndash;  <i class="fas fa-minus"></i> Remove Last Step&ndash;&gt;-->

<!--                            <i class="fas fa-trash-restore-alt"></i>-->

<!--                        </div>-->

<!--                    </div>-->
<!--                </li>-->
<!--                <li class="list-group-item">My List Item Two</li>-->
<!--                <li class="list-group-item">My List Item Three</li>-->
<!--                <li class="list-group-item">My List Item Four</li>-->
<!--                <li class="list-group-item">My List Item Five</li>-->
<!--            </ul>-->

            

            <div class="input-group mb-3 d-none">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fas fa-paper-plane fa-rotate-180"></i> Text</span>
                </div>
                <input id="receiveText" class="form-control" type="text" placeholder="Enter Receive Text ">

            </div>

            <div class="form-group d-none">
                <label for="">Size</label>
                <input id="equipmentSize" class="custom-range" min="1" max="20" step="1" value="10" type="range">
            </div>
            <br>

            <div class="form-group d-none">
                <label for="">Angle</label>
                <input  id="equipmentAngle" class="custom-range" min="1" max="20" step="1" value="10" type="range" >
            </div>

            <br>



            <fieldset disabled>

                <div class="input-group mb-3">
                    <div class="input-group-prepend ">
                        <span class="input-group-text">X Position</span>
                    </div>
                    <input id="equipmentX" class="form-control" type="text" placeholder="12">
                </div>

                <br>

                <div class="input-group mb-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Y Position</span>
                    </div>
                    <input  id="equipmentY" class="form-control disabled" type="text" placeholder="15">
                </div>

                <br>

            </fieldset>



            <div id="imageDataDelete" class="btn btn-outline-danger btn-lg text-center d-block"><i class="far fa-trash-alt"></i></div>

        </div>

        <div class="card-body d-none" id="AreaSection">


            <!--       so we need do some design here
                            undo redo
                                clear or redraw
                            add some change status button
                            we will further add more button
                            so we will
           -->

            <!--            <button class="btn btn-outline-primary w-100 mb-3" type="button">Draw Area</button>-->


            <!--            <div class="btn-group w-100 mb-3">-->
            <!--                <button class="btn btn-primary w-50" type="button"><i class="fas fa-undo"></i> Undo</button>-->
            <!--                <button class="btn btn-warning w-50" type="button"><i class="fas fa-redo"></i> Redo</button>-->

            <!--            </div>-->

            <!--            <button class="btn btn-outline-danger w-100 mb-3" type="button">Clear</button>-->



            <!--                        <div class="accordion" id="accordionExample">-->
            <!--                            <div class="card">-->
            <!--                                <div class="card-header" id="headingOne">-->
            <!--                                    <h2 class="mb-0">-->
            <!--                                        <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">-->
            <!--                                            <i class="fas fa-circle"></i> Add React Dot-->
            <!--                                        </button>-->
            <!--                                    </h2>-->
            <!--                                </div>-->

            <!--                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">-->
            <!--                                    <div class="card-body">-->
            <!--                                        Anim pariatu-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                            <div class="card">-->
            <!--                                <div class="card-header" id="headingTwo">-->
            <!--                                    <h2 class="mb-0">-->
            <!--                                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">-->
            <!--                                            <i class="fas fa-draw-polygon"></i> Add React Polygon-->
            <!--                                        </button>-->
            <!--                                    </h2>-->
            <!--                                </div>-->
            <!--                                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">-->
            <!--                                    <div class="card-body">-->
            <!--                                        Anim pariatu-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                            <div class="card">-->
            <!--                                <div class="card-header" id="headingThree">-->
            <!--                                    <h2 class="mb-0">-->
            <!--                                        <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">-->
            <!--                                            <i class="fas fa-grip-lines"></i> Add Hold Line-->
            <!--                                        </button>-->
            <!--                                    </h2>-->
            <!--                                </div>-->
            <!--                                <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">-->
            <!--                                    <div class="card-body">-->
            <!--                                        Anim pariatu-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                            </div>-->



            <!--                        </div>-->


        </div>

        <div class="card-body" id="AddSection">

            <!--    add dot group
                    add dot
https://getbootstrap.com/docs/4.2/components/collapse/#accordion-example
            -->
            <style>



            </style>


            <!--            <div class="custom-control custom-switch">-->
            <!--                <input type="checkbox" class="custom-control-input::after" id="customSwitch1">-->
            <!--                <label class="custom-control-label text-success h2" for="customSwitch1"><i class="fas fa-share-alt"></i> Share Equip</label>-->
            <!--            </div>-->
            <!--            <br>-->



            <!--            <div class="custom-control custom-switch">-->
            <!--                <input type="checkbox" class="custom-control-input " id="customSwitch2">-->
            <!--                <label class="custom-control-label text-danger h2" for="customSwitch2"><i class="fas fa-heart"></i> Like Equip</label>-->
            <!--            </div>-->
            <!--            <br>-->

            <div id="likeEquipment" class="btn btn-lg h2 d-block btn-outline-danger text-capitalize" ><i class='fas fa-heart'></i> Like Equip</div>

            <br>

            <div id="shareEquipment" class="btn btn-lg h2 d-block btn-outline-success text-capitalize" ><i class="fas fa-share-alt"></i> Share Equip</div>

            <br>
            <div id="createDuplicate" class="btn btn-lg text-white h2 d-block btn-warning text-capitalize" ><i class="fas fa-copy"></i> Create Duplicate Equipment </div>

            <br>

            <div id="deleteEquipment" class="btn btn-lg text-white h2 d-block btn-info text-capitalize" ><i class='far fa-trash-alt'></i> Delete Equipment </div>

            <br>


            <img src="https://ml4141715.github.io/water/cdn/image/badDog.png" alt="">



        </div>

    </div>

</div>



<style>

    .overlay2 {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        width: 100%;
        opacity: 0;
        transition: .5s ease;
        background-color: #008CBA;
    }

    .grid-square {
        width: 190px;
        height: 250px;
        display: inline-block;
        background-color: #fff;
    }
    .grid-photo-center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        /*width: 50%;*/
        width: 247px;
        height: 221px;
        position: relative;
        display: block;
        clip: rect(0px,190px,170px,0px);
    }
    .grid-photo {
        width: 190px;
        height: 170px;
        position: relative;
        display: block;
        clip: rect(0px,190px,170px,0px);
    }
    /*#feedback { font-size: 1.4em; }*/
    /*#selectable .ui-selecting { background: #FECA40; }*/
    /*#selectable .ui-selected { background: #F39814; color: white; }*/
    /*#selectable { list-style-type: none; margin: 0; padding: 0; width: 60%; }*/
    /*#selectable li { margin: 3px; padding: 0.4em; font-size: 1.4em; height: 18px; }*/
    .operationListButton{
        writing-mode: vertical-lr;
        font-size: 20px;
        color: #fefefe;
        display: inline-block;
        height: 170px   ;
    }
    #operationList{
        position: fixed;
        /*position: absolute;*/
        display: block;
        left: 0px;
        width: 50px;
        height: 100%;
        /*border: 3px solid #b31e2d;*/
        /*padding: 0px;*/
        margin: 0px;
        float: left;
        overflow: auto;
        padding: 5px;
    }
    #equipmentList {
        /*position: absolute;*/
        display: block;
        position: fixed;
        left: 50px;
        width: 130px;
        height: 100%;
        /*border: 3px solid mediumseagreen;*/
        float: left;
        overflow: auto;
        padding: 5px;
    }
    #equipmentPanel{
        /*overflow: auto;*/
        display: block;
        /*position: fixed;*/
        /*padding-left: 380px;*/
        /*padding-right: 200px;*/
        /*margin-left: 380px;*/
        margin-left: 250px;
        /*margin-right: 200px;*/
        /*margin-right: 200px;*/
        /*width: 100%;*/
        /*width:100%;*/
        /*height: 100%;*/
        /*left: 250px;*/
        /*right:340px;*/
        /*width: 80%;*/
        /*border: none;*/
        /*padding-right: 340px;*/
        /*margin-right: 340px;*/
        /*background-color: #f44336;*/
        /*border: 3px solid #2e28b3;*/
        padding: 5px;
        float: left;
    }
    #equipmentOperationSection{
        position: fixed;
        /*position: absolute;*/
        display: block;
        right: 0px;
        width: 340px;
        height: 100%;
        /*border: 3px solid mediumseagreen;*/
        float: left;
        padding: 5px;
        overflow: auto;
    }
    textarea {
        height:150px;
    }
</style>

<script>

    new Sortable( document.getElementById("folderContent") , {
        animation: 150,
        ghostClass: 'blue-background-class'
    });




</script>


</body>

</html>
